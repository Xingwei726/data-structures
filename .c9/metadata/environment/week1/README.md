{"filter":false,"title":"README.md","tooltip":"/week1/README.md","undoManager":{"mark":10,"position":10,"stack":[[{"start":{"row":0,"column":0},"end":{"row":45,"column":0},"action":"insert","lines":["## Assignment Description","Using Node.js in AWS Cloud 9 to make a request for each of the ten \"Meeting List Agenda\" pages for Manhattan. Try to come up with a Javascript loop to obtain the ten text files instead of copy paste the starter code and change the URL for each.","","## Working Process"," **1. Starter Code:**","","Started with 'Starter Code' we were given during the class. After I did some modifications to the starter code, it's returned with an error.","```javascript","var request = require('request');","var fs = require('fs');","/* Omit the var urls & var fns part here */","for (var i=0; i<10; i++){","    request(urls[i], function(error, response, body) {","        if (!error && response.statusCode == 200) {","            fs.writeFileSync(fns[i], body);","        }","        else {console.log(\"Request failed!\")}","    });","};","```"," **2. Trouble Diagnosis:**","","After running the code, I only got one text file. Therefore I thought the error might be related with the loop I created and asynchronous operations: the variable `i` within each of my request functions, is bound to the same variable outside of the function. After I did some research online, I realized that one solution might be to uniquely save the loop index `i` separately for each callback in order to work around this."," "," **3. Solution:**","","Accidentally I came across this website which explains how to fix a loop problem: [Use let with for Loops in JavaScript](https://wesbos.com/for-of-es6/). ","> What do we know about `let`? It’s block-scoped. We have curly brackets in the `for` loop. If you run it now, after a second we’ll log zero through nine. We’re not getting 10, 10 times. We getting it as it was declared each and every time.","","This has remineded me that `let` is able to create a unique value of `i`for each invocation of the loop. I wasn't so sure about to just replace `var i=0` with `let i=0`at first, but loop function seems to work after the change. And I did check all my text files carefully to make sure they are all different.","```javascript","/* The part I modified */","for (let i=0; i<10; i++){","    request(urls[i], function(error, response, body) {","        if (!error && response.statusCode == 200) {","            fs.writeFileSync(fns[i], body);","        }","        else {console.log(\"Request failed!\")}","});","```","","## Comments",""," - I'm not 100% sure if my solution is the right way to solve this problem tho the results indicates it might work."," - I'm wondering is there a better way to simply the `var fns` list,  due to my inexperience in Javascript, I haven't worked out a better way yet.",""],"id":1}],[{"start":{"row":44,"column":69},"end":{"row":44,"column":145},"action":"remove","lines":[" due to my inexperience in Javascript, I haven't worked out a better way yet"],"id":2},{"start":{"row":44,"column":69},"end":{"row":44,"column":70},"action":"insert","lines":["s"]},{"start":{"row":44,"column":70},"end":{"row":44,"column":71},"action":"insert","lines":["o"]}],[{"start":{"row":44,"column":71},"end":{"row":44,"column":72},"action":"insert","lines":[" "],"id":3},{"start":{"row":44,"column":72},"end":{"row":44,"column":73},"action":"insert","lines":["I"]}],[{"start":{"row":44,"column":73},"end":{"row":44,"column":74},"action":"insert","lines":[" "],"id":4},{"start":{"row":44,"column":74},"end":{"row":44,"column":75},"action":"insert","lines":["d"]},{"start":{"row":44,"column":75},"end":{"row":44,"column":76},"action":"insert","lines":["i"]},{"start":{"row":44,"column":76},"end":{"row":44,"column":77},"action":"insert","lines":["d"]}],[{"start":{"row":44,"column":77},"end":{"row":44,"column":78},"action":"insert","lines":[" "],"id":5},{"start":{"row":44,"column":78},"end":{"row":44,"column":79},"action":"insert","lines":["a"]},{"start":{"row":44,"column":79},"end":{"row":44,"column":80},"action":"insert","lines":["n"]},{"start":{"row":44,"column":80},"end":{"row":44,"column":81},"action":"insert","lines":["o"]},{"start":{"row":44,"column":81},"end":{"row":44,"column":82},"action":"insert","lines":["t"]},{"start":{"row":44,"column":82},"end":{"row":44,"column":83},"action":"insert","lines":["h"]},{"start":{"row":44,"column":83},"end":{"row":44,"column":84},"action":"insert","lines":["e"]},{"start":{"row":44,"column":84},"end":{"row":44,"column":85},"action":"insert","lines":["r"]}],[{"start":{"row":44,"column":85},"end":{"row":44,"column":86},"action":"insert","lines":[" "],"id":6},{"start":{"row":44,"column":86},"end":{"row":44,"column":87},"action":"insert","lines":["v"]},{"start":{"row":44,"column":87},"end":{"row":44,"column":88},"action":"insert","lines":["e"]},{"start":{"row":44,"column":88},"end":{"row":44,"column":89},"action":"insert","lines":["r"]},{"start":{"row":44,"column":89},"end":{"row":44,"column":90},"action":"insert","lines":["s"]},{"start":{"row":44,"column":90},"end":{"row":44,"column":91},"action":"insert","lines":["i"]},{"start":{"row":44,"column":91},"end":{"row":44,"column":92},"action":"insert","lines":["o"]},{"start":{"row":44,"column":92},"end":{"row":44,"column":93},"action":"insert","lines":["n"]}],[{"start":{"row":44,"column":93},"end":{"row":44,"column":94},"action":"insert","lines":[" "],"id":7},{"start":{"row":44,"column":94},"end":{"row":44,"column":95},"action":"insert","lines":["i"]},{"start":{"row":44,"column":95},"end":{"row":44,"column":96},"action":"insert","lines":["n"]}],[{"start":{"row":44,"column":96},"end":{"row":44,"column":97},"action":"insert","lines":[" "],"id":8},{"start":{"row":44,"column":97},"end":{"row":44,"column":98},"action":"insert","lines":["w"]},{"start":{"row":44,"column":98},"end":{"row":44,"column":99},"action":"insert","lines":["e"]},{"start":{"row":44,"column":99},"end":{"row":44,"column":100},"action":"insert","lines":["e"]}],[{"start":{"row":44,"column":100},"end":{"row":44,"column":101},"action":"insert","lines":["k"],"id":9},{"start":{"row":44,"column":101},"end":{"row":44,"column":102},"action":"insert","lines":["1"]},{"start":{"row":44,"column":102},"end":{"row":44,"column":103},"action":"insert","lines":["_"]}],[{"start":{"row":44,"column":103},"end":{"row":44,"column":104},"action":"insert","lines":["t"],"id":10},{"start":{"row":44,"column":104},"end":{"row":44,"column":105},"action":"insert","lines":["e"]},{"start":{"row":44,"column":105},"end":{"row":44,"column":106},"action":"insert","lines":["s"]},{"start":{"row":44,"column":106},"end":{"row":44,"column":107},"action":"insert","lines":["t"]}],[{"start":{"row":44,"column":107},"end":{"row":44,"column":108},"action":"insert","lines":[" "],"id":11},{"start":{"row":44,"column":108},"end":{"row":44,"column":109},"action":"insert","lines":["f"]},{"start":{"row":44,"column":109},"end":{"row":44,"column":110},"action":"insert","lines":["i"]},{"start":{"row":44,"column":110},"end":{"row":44,"column":111},"action":"insert","lines":["l"]},{"start":{"row":44,"column":111},"end":{"row":44,"column":112},"action":"insert","lines":["e"]}]]},"ace":{"folds":[],"scrolltop":324,"scrollleft":0,"selection":{"start":{"row":32,"column":25},"end":{"row":32,"column":25},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":19,"state":"start","mode":"ace/mode/markdown"}},"timestamp":1567115307262,"hash":"cabb58820fbc757468cc5ad456fd130aaa0f1894"}