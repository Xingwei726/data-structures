{"filter":false,"title":"week7_parseData.js","tooltip":"/week7/week7_parseData.js","undoManager":{"mark":72,"position":72,"stack":[[{"start":{"row":0,"column":0},"end":{"row":96,"column":0},"action":"insert","lines":["// INSTALL DEPENDENCIES","var request = require('request');","var fs = require('fs');","const dotenv = require('dotenv');","var cheerio = require('cheerio');","","// TAMU API KEY","dotenv.config();","// const apiKey = process.env.TAMU_KEY;","","","var meetingList = [];","","let html = fs.readFileSync('/home/ec2-user/environment/week1/m02.txt');","let $ = cheerio.load(html);","","$('tr tr tr').each(function (i, elem) {","    if (i !== 0) {","","        // LOCATION DETAILS","        var location = $(elem).find('td').eq(0).text().split(/\\n|,|\\(|\\)|-/).map(item => item.trim()).filter(Boolean);","","        // LOCATION NAMES","        var locationName = location[0];","        ","        // STREET INFO","        var streetInfo = $(elem).html().split('<br>')[2].split(',')[0].trim().replace(\" W. \", \" West \");","        // streetInfo[0]= streetInfo[0].replace(\" E \", \" East \");","        // streetInfo[0]= streetInfo[0].replace(\" E. \", \" East \");","        // streetInfo[0]= streetInfo[0].replace(\" W \", \" West \");","        // streetInfo[0]= streetInfo[0].replace(\" W. \", \" West \");","        // streetInfo[0]= streetInfo[0].replace(\" St \", \" Street \");","        // streetInfo[0]= streetInfo[0].replace(\" Av \", \" Avenue \");","        // streetInfo[0]= streetInfo[0].replace(\" Av. \", \" Avenue \");","        // streetInfo[0]= streetInfo[0].replace(\" Ave \", \" Avenue \");","        // streetInfo[0]= streetInfo[0].replace(\" street \", \" Street \");","        ","        // MEETING NAMES","        var meetingName = $(elem).find('td').eq(0).find('b').text().split(' - ')[0].toUpperCase();","","        // ZIPCODE","        var zipcode = $(elem).html().split('<br>')[3].trim().slice(-5);","","        // WHEELCHAIR ACCESS INFORMATION","        var wheelchair;","        if ($(elem).html().includes('Wheelchair access')) {","            wheelchair = true;","        } else {","            wheelchair = false;","        }","","        // REMOVE REDUNDANT","        $(elem).find('div').eq(0).remove();","        $(elem).find('b').eq(0).remove();","        $(elem).find('span').eq(0).remove();","","        let thisMeeting = {","            locationTitle: locationName,","            streetInfo: streetInfo,","            city: \"New York\",","            state: \"NY\",","            zip: zipcode,","            details: location[3] + ' ' + location[4] + ' ' + location[5],","            wheelchair: wheelchair,","        };","","","        // EXTRACT MEETING TIMES","        var meetingTimes = $(elem).find('td').eq(1).text().split('\\n').map(item => item.trim()).filter(Boolean);","","        let meetingTimesList = [];","        for (let t = 0; t < meetingTimes.length; t++) {","            // console.log(meetingTimes[t]);","            var times = meetingTimes[t].split(' ');","            var timesObj = {","                meetingName: meetingName,","                day: times[0],","                start: times[3] + ' ' + times[4],","                end: times[6] + ' ' + times[7],","                type: times[10]","            };","","            meetingTimesList.push(timesObj);","","","        }","        thisMeeting.meetings = meetingTimesList;","","        // CALL THE GEOCODE FUNCTION","        meetingList.push(thisMeeting);","    }","});","","","let write = JSON.stringify(meetingList);","fs.writeFileSync('data/AA02.json', write);",""],"id":1}],[{"start":{"row":95,"column":26},"end":{"row":95,"column":27},"action":"remove","lines":["2"],"id":2}],[{"start":{"row":95,"column":26},"end":{"row":95,"column":27},"action":"insert","lines":["1"],"id":3}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"remove","lines":["2"],"id":4}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"insert","lines":["1"],"id":5}],[{"start":{"row":88,"column":0},"end":{"row":89,"column":0},"action":"remove","lines":["        // CALL THE GEOCODE FUNCTION",""],"id":6},{"start":{"row":87,"column":0},"end":{"row":88,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":63,"column":34},"end":{"row":63,"column":35},"action":"remove","lines":[","],"id":7}],[{"start":{"row":63,"column":34},"end":{"row":64,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":64,"column":0},"end":{"row":64,"column":12},"action":"insert","lines":["            "]},{"start":{"row":64,"column":12},"end":{"row":64,"column":13},"action":"insert","lines":["z"]},{"start":{"row":64,"column":13},"end":{"row":64,"column":14},"action":"insert","lines":["o"]},{"start":{"row":64,"column":14},"end":{"row":64,"column":15},"action":"insert","lines":["n"]},{"start":{"row":64,"column":15},"end":{"row":64,"column":16},"action":"insert","lines":["e"]}],[{"start":{"row":64,"column":16},"end":{"row":64,"column":17},"action":"insert","lines":[":"],"id":9}],[{"start":{"row":64,"column":17},"end":{"row":64,"column":18},"action":"insert","lines":["1"],"id":10}],[{"start":{"row":64,"column":17},"end":{"row":64,"column":18},"action":"remove","lines":["1"],"id":11}],[{"start":{"row":64,"column":17},"end":{"row":64,"column":19},"action":"insert","lines":["\"\""],"id":12}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["1"],"id":13}],[{"start":{"row":64,"column":20},"end":{"row":64,"column":21},"action":"insert","lines":[","],"id":14}],[{"start":{"row":63,"column":34},"end":{"row":63,"column":35},"action":"insert","lines":[","],"id":15}],[{"start":{"row":64,"column":20},"end":{"row":64,"column":21},"action":"remove","lines":[","],"id":16}],[{"start":{"row":13,"column":59},"end":{"row":13,"column":60},"action":"remove","lines":["1"],"id":17}],[{"start":{"row":13,"column":59},"end":{"row":13,"column":60},"action":"insert","lines":["2"],"id":18}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"remove","lines":["1"],"id":19}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["2"],"id":20}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"remove","lines":["1"],"id":21}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"insert","lines":["2"],"id":22}],[{"start":{"row":13,"column":59},"end":{"row":13,"column":60},"action":"remove","lines":["2"],"id":24}],[{"start":{"row":13,"column":59},"end":{"row":13,"column":60},"action":"insert","lines":["1"],"id":25}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"remove","lines":["1"],"id":26}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"insert","lines":["2"],"id":27}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"remove","lines":["2"],"id":28}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"insert","lines":["3"],"id":29}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"remove","lines":["2"],"id":30}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["3"],"id":31}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"remove","lines":["2"],"id":32}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"insert","lines":["3"],"id":33}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"remove","lines":["3"],"id":34}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"insert","lines":["4"],"id":35}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"remove","lines":["3"],"id":36}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["4"],"id":37}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"remove","lines":["3"],"id":38}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"insert","lines":["4"],"id":39}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"remove","lines":["4"],"id":40}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"insert","lines":["5"],"id":41}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"remove","lines":["4"],"id":42}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["5"],"id":43}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"remove","lines":["4"],"id":44}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"insert","lines":["5"],"id":45}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"remove","lines":["5"],"id":46}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"insert","lines":["6"],"id":47}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"remove","lines":["5"],"id":48}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["6"],"id":49}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"remove","lines":["5"],"id":50}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"insert","lines":["6"],"id":51}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"remove","lines":["6"],"id":52}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"insert","lines":["7"],"id":53}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"remove","lines":["6"],"id":54}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["7"],"id":55}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"remove","lines":["6"],"id":56}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"insert","lines":["7"],"id":57}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"remove","lines":["7"],"id":58}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"insert","lines":["8"],"id":59}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"remove","lines":["7"],"id":60}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["8"],"id":61}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"remove","lines":["7"],"id":62}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"insert","lines":["8"],"id":63}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"remove","lines":["8"],"id":64}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"insert","lines":["9"],"id":65}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"remove","lines":["8"],"id":66}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["9"],"id":67}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"remove","lines":["8"],"id":68}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"insert","lines":["9"],"id":69}],[{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"remove","lines":["9"],"id":70},{"start":{"row":13,"column":62},"end":{"row":13,"column":63},"action":"remove","lines":["0"]}],[{"start":{"row":13,"column":62},"end":{"row":13,"column":63},"action":"insert","lines":["1"],"id":71},{"start":{"row":13,"column":63},"end":{"row":13,"column":64},"action":"insert","lines":["0"]}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"remove","lines":["9"],"id":72},{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["1"]},{"start":{"row":64,"column":19},"end":{"row":64,"column":20},"action":"insert","lines":["0"]}],[{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"remove","lines":["9"],"id":73},{"start":{"row":94,"column":25},"end":{"row":94,"column":26},"action":"remove","lines":["0"]}],[{"start":{"row":94,"column":25},"end":{"row":94,"column":26},"action":"insert","lines":["1"],"id":74},{"start":{"row":94,"column":26},"end":{"row":94,"column":27},"action":"insert","lines":["0"]}]]},"ace":{"folds":[],"scrolltop":500.5,"scrollleft":0,"selection":{"start":{"row":43,"column":0},"end":{"row":49,"column":9},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":30,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1572305802774,"hash":"796ceeed5890d8c744065d32688c8e3c43229b36"}